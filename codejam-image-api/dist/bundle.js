!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1)},function(e,t){window.onload=function(){let e,t,n="#000000",o="#000000",c=1;const a=document.getElementById("body"),i=document.getElementById("pencil"),s=document.getElementById("erase"),l=document.getElementById("bucket"),u=document.getElementById("pickerTool"),d=document.getElementById("minSize"),r=document.getElementById("medSize"),m=document.getElementById("maxSize"),g=document.getElementById("actualColor"),f=document.getElementById("prev-color"),y="#790604",v="#00BFFF";let h,p;const k=document.getElementById("canvas"),I=k.getContext("2d");function b(){1!==c&&3!==c||(k.onmousedown=O,k.onmouseup=j,k.onmouseout=j,k.onmousemove=T),2===c&&(k.onmousedown=C),4===c&&(k.onmousedown=P,k.onmouseup=null,k.onmouseout=null,k.onmousemove=null)}function L(){c=2,b(),a.style.cursor="url('images/bucket.png'), auto",i.classList.remove("active"),s.classList.remove("active"),u.classList.remove("active"),l.classList.add("active")}function w(){c=1,b(),a.style.cursor="url('images/pencil.png'), auto",i.classList.add("active"),s.classList.remove("active"),l.classList.remove("active"),u.classList.remove("active")}function B(){c=3,b(),a.style.cursor="url('images/erase.png'), auto",i.classList.remove("active"),s.classList.add("active"),l.classList.remove("active"),u.classList.remove("active")}function E(){c=4,b(),a.style.cursor="url('images/eye-dropper.png'), auto",i.classList.remove("active"),s.classList.remove("active"),l.classList.remove("active"),u.classList.add("active")}function S(e){I.lineWidth=e,1===e&&(d.classList.add("active"),r.classList.remove("active"),m.classList.remove("active")),5===e&&(d.classList.remove("active"),r.classList.add("active"),m.classList.remove("active")),15===e&&(d.classList.remove("active"),r.classList.remove("active"),m.classList.add("active"))}function C(){I.fillStyle=n,I.fillRect(0,0,k.width,k.height)}function O(t){1===c&&(I.strokeStyle=n),3===c&&(I.strokeStyle="#ffffff"),document.getElementById("canvas").style.background="#ffffff",e=!0,I.beginPath(),I.moveTo(t.pageX-k.offsetLeft,t.pageY-k.offsetTop)}function T(t){!0===e&&(h=t.pageX-k.offsetLeft,p=t.pageY-k.offsetTop,I.lineTo(h,p),I.stroke())}function j(){e=!1}function x(){I.clearRect(0,0,k.width,k.height),document.getElementById("canvas").style.background="rgba( 240, 243, 244 , 0.9)"}function P(e){h=e.pageX-k.offsetLeft,p=e.pageY-k.offsetTop,I.getImageData(h,p,1,1);const t=`rgba(${I.getImageData(h,p,1,1).data})`;g.style.background=t,n=t}a.style.cursor="url('images/pencil.png'), auto",i.classList.add("active"),k.width=512,k.height=512,b(),g.style.background=n,document.getElementById("color").onchange=function(){o=n,f.style.background=o,n=this.value,g.style.background=n},document.addEventListener("keydown",e=>{80===e.keyCode?w():66===e.keyCode?L():73===e.keyCode?document.getElementById("color").click():67===e.keyCode?E():69===e.keyCode&&B()});const _=function(e,t){const n=t.width/t.height,o=e.width/e.height;let c,a,i,s;n<o?(c=e.height,a=t.width*(c/t.height),i=(e.width-a)/2,s=0):n>o?(a=e.width,c=t.height*(a/t.width),i=0,s=(e.height-c)/2):(c=e.height,a=e.width,i=0,s=0),I.drawImage(t,i,s,a,c)};s.onclick=B,i.onclick=w,l.onclick=L,u.onclick=E,d.onclick=()=>S(1),r.onclick=()=>S(5),m.onclick=()=>S(15),document.getElementById("changeColor").onclick=function(){document.getElementById("color").click()},document.getElementById("setColorToPrev").onclick=function(){n=o},document.getElementById("cherryLips").onclick=function(){o=n,n=y,g.style.background=n,f.style.background=o},document.getElementById("coldSiberia").onclick=function(){o=n,n=v,g.style.background=n,f.style.background=o},document.getElementById("importImage").onclick=async function(){x();const e=new Image;e.crossOrigin="anonymous",e.onload=function(){_(k,e)},e.src=await async function(){const e=`https://api.unsplash.com/photos/random?query=town,${document.getElementById("city").value}&client_id=9161e949213aef46ad705500b1cddcbb11ed87c9f569ca1c461f5dcaa9869762`;return await fetch(e).then(e=>e.json()).then(e=>{console.log(e.urls.small),t=e.urls.small}),t}()},document.getElementById("blackAndWhite").onclick=function(){const e=new Image;e.crossOrigin="anonymous",e.onload=function(){_(k,e);const t=I.getImageData(0,0,k.width,k.height),n=t.data;for(let e=0;e<n.length;e+=4){const t=(n[e]+n[e+1]+n[e+2])/3;n[e]=n[e+1]=n[e+2]=t}I.putImageData(t,0,0)},e.src=t},document.getElementById("loadLS").onclick=function(){I.clearRect(0,0,k.width,k.height);const e=localStorage.getItem("canvas"),t=new Image;t.src=e,t.onload=function(){I.drawImage(t,0,0)}},document.getElementById("saveLS").onclick=function(){localStorage.setItem("canvas",k.toDataURL())},document.getElementById("redraw").onclick=x}}]);